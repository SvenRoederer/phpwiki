<?php // -*-html-*-
  rcs_id('$Id: actionbar.tmpl,v 1.22 2003-11-30 19:33:53 carstenklapp Exp $');
  if (!$page->get('locked') || $user->isAdmin())
      $EditB = Button("edit",
                      $revision->isCurrent() ? _("Edit") : _("Edit Old Revision"));
  else
      $EditB = Button("viewsource", _("View Source"));

  $Sep = $Theme->getButtonSeparator();
?>

<?php /* I would like not to have to use these tables, and managed to
       * get this stuff to work more or less correctly using
       * CSSs float:left; and float:right;.  However float:right; seems
       * to cause MSIE4.01/NT to hang. 
       * So, we use tables...  */ ?>
<table summary="Toolbar 1: Page actions and user login."
       width="100%" cellpadding="0" cellspacing="0" border="0">
<tr valign="baseline">
  <td>
  <div id="actionbuttons">
    <?= $EditB ?>
    <?php if ($user->isAdmin()) { ?>
      <?=$Sep?><?= Button($page->get('locked') ? 'unlock' : 'lock') ?>
      <?=$Sep?><?= Button('remove') ?>
    <?php } ?>
    <?=$Sep?><?= Button("PageHistory", _("PageHistory")) ?>
    <?=$Sep?><?= Button("diff") ?> 
    <?=$Sep?><?= Button("PageInfo", _("PageInfo")) ?>
<?php if ((defined('DEBUG') && DEBUG) || $user->isAdmin()) { ?> 
    <?=$Sep?><?= Button("DebugInfo", _("DebugInfo")) ?> <!-- For debugging only, really -->
<?php } ?>
  </div>
  </td>
<?php
/* valign="top" is not ideal here but required to get reasonable alignment
   with the other action buttons in some browsers, like OmniWeb and Safari
   (therefore probably Konquorer too) */
?>
  <td align="right" valign="top">
    <div id="signin"><?= Template('signin') ?></div>
  </td>
</tr>
</table>
