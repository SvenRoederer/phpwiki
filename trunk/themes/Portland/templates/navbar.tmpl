<?php // -*-html-*- ?>
<!-- $Id: navbar.tmpl,v 1.4 2002-01-22 04:51:50 dairiki Exp $ -->
<?php

  $BF = &$ButtonFactory;

  $LockPageB = $BF->makeActionButton($page->get('locked') ? 'unlock' : 'lock');
  $RemovePageB = $BF->makeActionButton('remove');

  $DiffB = $BF->makeActionButton(array('action' => 'diff', 'previous' => 'major'));

  $DebugInfoB = $BF->makeActionPageButton(_("DebugInfo"));

  $Sep = $Theme->getButtonSeparator();

?>
<!-- The bottom navigation/search bar -->

    <?= $BF->makeLinkButton(_("FindPage")) ?> by searching
    <?php if (!empty($PAGE)) { ?>
      (or browse <?= $ButtonFactory->makeActionPageButton(_("LikePages")) ?>)
    <?php } ?>
    <?php if ($user->isAdmin()) { ?>
     <?=$Sep?><?= $LockPageB ?><?=$Sep?><?= $RemovePageB ?>
    <?php } ?>
    <!-- For debugging only, really -->
    <?=$Sep?><?= $DebugInfoB ?><br />
   <hr />
<!-- I would like not to have to use these tables, and managed to
     get this stuff to work more or less correctly using
     CSSs float:left; and float:right;.  However float:right; seems
     to cause MSIE4.01/NT to hang. 
     So, we use tables...  -->
<table summary="Toolbar 1: Navigation and user login."
       class="toolbar" width="100%"
       cellpadding="0" cellspacing="0" border="0"
       id="actionbar">
<tr valign="baseline">
  <td>
   <?= $BF->makeLinkButton(_("RecentChanges")) ?>
    <?php if (!empty($user) && $user->isAdmin()) { ?>
     <?=$Sep?><?= $ButtonFactory->makeLinkButton(_("PhpWikiAdministration")) ?>
    <?php } ?>
  </td>
  <td align="right">
    <?= new WikiTemplate('signin') ?>
  </td>
</tr></table>
